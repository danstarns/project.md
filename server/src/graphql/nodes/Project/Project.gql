type Project {
    _id: ID!
    name: String!
    tagline: String
    creator: User!
    private: Boolean!
    due: GraphQLDateTime
    markdown: String!
    createdAt: GraphQLDateTime! # TODO SCALAR DATE
    updatedAt: GraphQLDateTime! # TODO SCALAR DATE

    tasks(input: ProjectTasksInput): ProjectTasksResponse!
}

# PROJECT.TASKS
# ------------------------------------
type ProjectTasksData {
    tasks: [Task]
}

type ProjectTasksResponse {
    hasNextPage: Boolean!
    data: ProjectTasksData
}

input ProjectTasksInput {
    page: Int! 
    limit: Int!
    search: String
    sort: String!
    user: Boolean!
}

# COMMON 
enum DateSortEnum {
    desc
    asc
}


# CREATE PROJECT
# ------------------------------------
input CreateProjectInput {
    name: String!
    tagline: String
    private: Boolean!
    due: String
    markdown: String!
}

type CreateProjectError {
    message: String!
}

type ProjectData {
    project: Project!
}

type CreateProjectResponse {
    project: Project
    error: CreateProjectError
}

# EDIT PROJECT 
# ------------------------------------
input EditProjectInput {
    id: ID!
    name: String!
    tagline: String
    private: Boolean!
    due: String
    markdown: String!
}

type EditProjectData {
    project: Project
}

type EditProjectError {
    message: String!
}

type EditProjectResponse {
    data: EditProjectData
    error: EditProjectError
}

# USER PROJECTS
# --

type UserProjectsData {
    projects: [Project]!
}

type UserProjectsResponse {
    hasNextPage: Boolean!
    data: UserProjectsData!
}

input UserProjectsInput {
    page: Int!
    limit: Int!
    sort: DateSortEnum!
    search: String
}

type Query {
    project(id: ID!): Project
    userProjects(input: UserProjectsInput!): UserProjectsResponse!
    publicProjects(input: UserProjectsInput!): UserProjectsResponse!
}

type Mutation {
    createProject(input: CreateProjectInput!): CreateProjectResponse!
    editProject(input: EditProjectInput!): EditProjectResponse!
}